# Scene 7

## ヒント & 解答

### ヒント1

最短距離をこれまで通り考えてみると、以下のようになります。
- Scene 5 : `S = 3`
- Scene 7 : `S = 4`
入力して、確定を押してみましょう。

### ヒント2

最短距離はまだあるようです。

Scene 5 の挙動を思い出しましょう。

### ヒント3

Scene 5 では、黒マスにぶつかっていました。これを利用することで、その場で足踏みさせる、盤面を縮ませることが可能です。

### ヒント4

次は、Scene 7 について考えてみましょう。

ここでも、黒マスにぶつかった場合を考慮する必要があります。具体的には、全く同じマスが2回以上連続した場合、黒マスにぶつかった可能性があります。

黒マスにぶつかった場合をすべき箇所は、インデックス3から7、およびインデックス13から15です。上下2つに分けて考えてみましょう。

### ヒント5

インデックス3から7の箇所では、以下の3つのパターンが考えられます。

① 一度も黒マスにぶつかっていない場合

```txt
■■■■■■■
■□□□□□■
  □□□□■
```

② 1回黒マスにぶつかった場合

```txt
■■■■■■
■□□□□■
  □□□■
```

③ 2回黒マスにぶつかった場合

```txt
■■■■■
■□□□■
  □□■
```

また、インデックス13から15の箇所では、以下の3つのパターンが考えられます。

④ 一度も黒マスにぶつかっていない場合

```txt
■■
■G□U□S■
■□□□□□■
■□□□□□■
■■■■■■■
```

※黒マスとも白マスとも確定しないマスを「U」で表現しています。

⑤ 1回黒マスにぶつかった場合

```txt
■■
■G□□S■
■□□□□■
■□□□□■
■■■■■■
```

⑥ 2回黒マスにぶつかった場合

```txt
■■
■G□S■
■□□□■
■□□□■
■■■■■
```

あとは、①から③、④から⑥を組み合わせるだけです。

## 解答

### Scene 5

<summary>ここをクリック</summary>

解答: `S = 4, 5, 6`

</details>

### Scene 7

<summary>ここをクリック</summary>

盤面としては以下の6通りが考えられます。

1. ① + ④
   
```txt
■■■■■■■
■□□□□□■
■■□□□□■
■G□U□S■
■□□□□□■
■□□□□□■
■■■■■■■
```

「U」が白マスの場合には「S=4」、黒マスの場合には「S=6」です。

解答: `S=4, 6`

2. ② + ④

```txt
 ■■■■■■
 ■□□□□■
■■U□□□■
■G□U□S■
■□□□□□■
■□□□□□■
■■■■■■■
```

解答: `S=4, 6`

3. ② + ⑤

```txt
■■■■■■
■□□□□■
■■□□□■
■G□□S■
■□□□□■
■□□□□■
■■■■■■
```

解答: `S=3`

4. ③ + ④

```txt
  ■■■■■
  ■□□□■
■■UU□□■
■G□U□S■
■□□□□□■
■□□□□□■
■■■■■■■
```

解答: `S=4, 6`

5. ③ + ⑤

```txt
 ■■■■■
 ■□□□■
■■U□□■
■G□□S■
■□□□□■
■□□□□■
■■■■■■
```

解答: `S=3`

6. ③ + ⑥

```txt
■■■■■
■□□□■
■■□□■
■G□S■
■□□□■
■□□□■
■■■■■
```

解答: `S=2`

以上の解答を統合すると、以下の解答が得られます。

解答: `S=2, 3, 4, 6`

なお、①から③、④から⑥の組み合わせにおいて、その他の組み合わせは上下で黒マスと白マスが同じ位置となり、矛盾が生じてしまいます。

例えば、① + ⑤に対する入力例である、`↑2←3→3↓4←1↓1←2↑2`は同様の理由により、Scene 7 の解答とはなりません。

</details>
